{"ast":null,"code":"import { initializeApp } from \"firebase/app\";\nimport { getToken, getMessaging, onMessage } from \"firebase/messaging\";\nconst firebaseConfig = {\n  apiKey: \"AIzaSyBm1p6C3rBr3CFJrszKMJHmQUqHAgKdSlU\",\n  authDomain: \"lost-and-found-2b70e.firebaseapp.com\",\n  projectId: \"lost-and-found-2b70e\",\n  storageBucket: \"lost-and-found-2b70e.appspot.com\",\n  messagingSenderId: \"335347869763\",\n  appId: \"1:335347869763:web:305cc1caca5a87d3940cf6\",\n  measurementId: \"G-6ZXJGSE7GM\"\n};\ninitializeApp(firebaseConfig);\nconst messaging = getMessaging();\nvar fcmid = '';\nfetch('/', {\n  method: 'POST',\n  headers: {\n    'Content-Type': 'application/json'\n  },\n  body: JSON.stringify({\n    fcmid: fcmid\n  })\n});\nexport const requestForToken = () => {\n  return getToken(messaging, {\n    vapidKey: \"BDjiKhnU10ClKktNZQ8KYOnTbO4BRJIuFDUP9EBnOt5LF2RlhlCQMusRTC4EMEFcd0IPQMRKUDN_TD-cej5EWKc\"\n  }).then(currentToken => {\n    if (currentToken) {\n      fcmid = currentToken;\n      console.log(\"current token for client: \", currentToken);\n      // Perform any other neccessary action with the token\n    } else {\n      // Show permission request UI\n      console.log(\"No registration token available. Request permission to generate one.\");\n    }\n  }).catch(err => {\n    console.log(\"An error occurred while retrieving token. \", err);\n  });\n};\nexport const onMessageListener = () => new Promise(resolve => {\n  onMessage(messaging, payload => {\n    console.log(\"payload\", payload);\n    resolve(payload);\n  });\n});\nexport { fcmid };","map":{"version":3,"names":["initializeApp","getToken","getMessaging","onMessage","firebaseConfig","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","measurementId","messaging","fcmid","fetch","method","headers","body","JSON","stringify","requestForToken","vapidKey","then","currentToken","console","log","catch","err","onMessageListener","Promise","resolve","payload"],"sources":["C:/Users/User/Desktop/final-project/Lost-and-found---Final-project/client/src/Firebase.js"],"sourcesContent":["import { initializeApp } from \"firebase/app\";\r\nimport { getToken, getMessaging, onMessage } from \"firebase/messaging\";\r\n\r\nconst firebaseConfig = {\r\n  apiKey: \"AIzaSyBm1p6C3rBr3CFJrszKMJHmQUqHAgKdSlU\",\r\n  authDomain: \"lost-and-found-2b70e.firebaseapp.com\",\r\n  projectId: \"lost-and-found-2b70e\",\r\n  storageBucket: \"lost-and-found-2b70e.appspot.com\",\r\n  messagingSenderId: \"335347869763\",\r\n  appId: \"1:335347869763:web:305cc1caca5a87d3940cf6\",\r\n  measurementId: \"G-6ZXJGSE7GM\",\r\n};\r\n\r\ninitializeApp(firebaseConfig);\r\nconst messaging = getMessaging();\r\n\r\nvar fcmid = ''\r\nfetch('/', {\r\n  method: 'POST',\r\n  headers: {\r\n    'Content-Type': 'application/json'\r\n  },\r\n  body: JSON.stringify({ fcmid: fcmid })\r\n});\r\nexport const requestForToken = () => {\r\n  return getToken(messaging, {\r\n    vapidKey:\r\n      \"BDjiKhnU10ClKktNZQ8KYOnTbO4BRJIuFDUP9EBnOt5LF2RlhlCQMusRTC4EMEFcd0IPQMRKUDN_TD-cej5EWKc\",\r\n  })\r\n    .then((currentToken) => {\r\n      if (currentToken) {\r\n        fcmid = currentToken;\r\n        console.log(\"current token for client: \", currentToken);\r\n        // Perform any other neccessary action with the token\r\n      } else {\r\n        // Show permission request UI\r\n        console.log(\r\n          \"No registration token available. Request permission to generate one.\"\r\n        );\r\n      }\r\n    })\r\n    .catch((err) => {\r\n      console.log(\"An error occurred while retrieving token. \", err);\r\n    });\r\n};\r\n\r\nexport const onMessageListener = () =>\r\n  new Promise((resolve) => {\r\n    onMessage(messaging, (payload) => {\r\n      console.log(\"payload\", payload);\r\n      resolve(payload);\r\n    });\r\n  });\r\n\r\nexport  {fcmid};"],"mappings":"AAAA,SAASA,aAAa,QAAQ,cAAc;AAC5C,SAASC,QAAQ,EAAEC,YAAY,EAAEC,SAAS,QAAQ,oBAAoB;AAEtE,MAAMC,cAAc,GAAG;EACrBC,MAAM,EAAE,yCAAyC;EACjDC,UAAU,EAAE,sCAAsC;EAClDC,SAAS,EAAE,sBAAsB;EACjCC,aAAa,EAAE,kCAAkC;EACjDC,iBAAiB,EAAE,cAAc;EACjCC,KAAK,EAAE,2CAA2C;EAClDC,aAAa,EAAE;AACjB,CAAC;AAEDX,aAAa,CAACI,cAAc,CAAC;AAC7B,MAAMQ,SAAS,GAAGV,YAAY,EAAE;AAEhC,IAAIW,KAAK,GAAG,EAAE;AACdC,KAAK,CAAC,GAAG,EAAE;EACTC,MAAM,EAAE,MAAM;EACdC,OAAO,EAAE;IACP,cAAc,EAAE;EAClB,CAAC;EACDC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAAC;IAAEN,KAAK,EAAEA;EAAM,CAAC;AACvC,CAAC,CAAC;AACF,OAAO,MAAMO,eAAe,GAAGA,CAAA,KAAM;EACnC,OAAOnB,QAAQ,CAACW,SAAS,EAAE;IACzBS,QAAQ,EACN;EACJ,CAAC,CAAC,CACCC,IAAI,CAAEC,YAAY,IAAK;IACtB,IAAIA,YAAY,EAAE;MAChBV,KAAK,GAAGU,YAAY;MACpBC,OAAO,CAACC,GAAG,CAAC,4BAA4B,EAAEF,YAAY,CAAC;MACvD;IACF,CAAC,MAAM;MACL;MACAC,OAAO,CAACC,GAAG,CACT,sEAAsE,CACvE;IACH;EACF,CAAC,CAAC,CACDC,KAAK,CAAEC,GAAG,IAAK;IACdH,OAAO,CAACC,GAAG,CAAC,4CAA4C,EAAEE,GAAG,CAAC;EAChE,CAAC,CAAC;AACN,CAAC;AAED,OAAO,MAAMC,iBAAiB,GAAGA,CAAA,KAC/B,IAAIC,OAAO,CAAEC,OAAO,IAAK;EACvB3B,SAAS,CAACS,SAAS,EAAGmB,OAAO,IAAK;IAChCP,OAAO,CAACC,GAAG,CAAC,SAAS,EAAEM,OAAO,CAAC;IAC/BD,OAAO,CAACC,OAAO,CAAC;EAClB,CAAC,CAAC;AACJ,CAAC,CAAC;AAEJ,SAASlB,KAAK"},"metadata":{},"sourceType":"module","externalDependencies":[]}