{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/User/Desktop/final-project/Lost-and-found---Final-project/client/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/User/Desktop/final-project/Lost-and-found---Final-project/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/User/Desktop/final-project/Lost-and-found---Final-project/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React from\"react\";import axios from\"axios\";import{useState}from\"react\";import{useNavigate}from\"react-router-dom\";import Button from\"react-bootstrap/Button\";import Form from\"react-bootstrap/Form\";import\"react-modern-calendar-datepicker/lib/DatePicker.css\";import{Calendar}from\"react-modern-calendar-datepicker\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function ILostAPet(){var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),name=_useState2[0],setName=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),description=_useState4[0],setDescription=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),photo=_useState6[0],setPhoto=_useState6[1];var _useState7=useState(\"\"),_useState8=_slicedToArray(_useState7,2),location=_useState8[0],setLocation=_useState8[1];var _useState9=useState(null),_useState10=_slicedToArray(_useState9,2),date=_useState10[0],setDate=_useState10[1];var _useState11=useState(\"\"),_useState12=_slicedToArray(_useState11,2),time=_useState12[0],setTime=_useState12[1];var navigate=useNavigate();function LostPetForm(_x){return _LostPetForm.apply(this,arguments);}function _LostPetForm(){_LostPetForm=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(e){var lostPet,token;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:e.preventDefault();lostPet={name:name,description:description,photo:photo,location:location,date:date,time:time};token=localStorage.getItem(\"token\");_context.next=5;return axios.post(\"http://localhost:8000/auth/lostpet\",lostPet,{headers:{Authorization:\"Bearer \".concat(token)}});case 5:navigate(\"/getLostPets\");case 6:case\"end\":return _context.stop();}},_callee);}));return _LostPetForm.apply(this,arguments);}function covertToBase64(e){console.log(e);var reader=new FileReader();reader.readAsDataURL(e.target.files[0]);reader.onload=function(){console.log(reader.result);setPhoto(reader.result);};reader.onerror=function(error){console.log(\"error: \",error);};}return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(\"div\",{className:\"page-container\",children:/*#__PURE__*/_jsxs(Form,{onSubmit:LostPetForm,className:\"text-center\",style:{maxWidth:\"400px\",margin:\"0 auto\"},children:[/*#__PURE__*/_jsx(Form.Label,{children:/*#__PURE__*/_jsx(\"h3\",{children:\"Declare your lost pet\"})}),/*#__PURE__*/_jsxs(Form.Group,{className:\"mb-3\",controlId:\"formBasicName\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Pets Name\"}),/*#__PURE__*/_jsx(Form.Control,{type:\"text\",placeholder:\"Pets name\",value:name,onChange:function onChange(e){return setName(e.target.value);}})]}),/*#__PURE__*/_jsxs(Form.Group,{className:\"mb-3\",controlId:\"formBasicDescription\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Pets description\"}),/*#__PURE__*/_jsx(Form.Control,{type:\"textarea\",placeholder:\"Describe the pet\",value:description,onChange:function onChange(e){return setDescription(e.target.value);}})]}),/*#__PURE__*/_jsxs(Form.Group,{controlId:\"formFileSm\",className:\"mb-3\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Upload a photo of your pet\"}),/*#__PURE__*/_jsx(Form.Control,{type:\"file\",size:\"sm\",onChange:covertToBase64}),photo===\"\"||photo===null?\"\":/*#__PURE__*/_jsx(\"img\",{width:100,height:100,src:photo,alt:\"pet\"})]}),/*#__PURE__*/_jsxs(Form.Group,{className:\"mb-3\",controlId:\"formBasicLocation\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Location\"}),/*#__PURE__*/_jsx(Form.Control,{type:\"text\",placeholder:\"Where did you lost your pet?\",value:location,onChange:function onChange(e){return setLocation(e.target.value);}})]}),/*#__PURE__*/_jsx(Calendar,{value:date,onChange:setDate,inputPlaceholder:\"Select a day\",shouldHighlightWeekends:true}),/*#__PURE__*/_jsxs(Form.Group,{className:\"mb-3\",controlId:\"formBasicTime\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Time\"}),/*#__PURE__*/_jsx(Form.Control,{type:\"number\",placeholder:\"When did you lost your pet?\",value:time,onChange:function onChange(e){return setTime(e.target.value);}})]}),/*#__PURE__*/_jsx(Button,{variant:\"primary\",type:\"submit\",children:\"Upload\"})]})})});}export default ILostAPet;","map":{"version":3,"names":["React","axios","useState","useNavigate","Button","Form","Calendar","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","ILostAPet","_useState","_useState2","_slicedToArray","name","setName","_useState3","_useState4","description","setDescription","_useState5","_useState6","photo","setPhoto","_useState7","_useState8","location","setLocation","_useState9","_useState10","date","setDate","_useState11","_useState12","time","setTime","navigate","LostPetForm","_x","_LostPetForm","apply","arguments","_asyncToGenerator","_regeneratorRuntime","mark","_callee","e","lostPet","token","wrap","_callee$","_context","prev","next","preventDefault","localStorage","getItem","post","headers","Authorization","concat","stop","covertToBase64","console","log","reader","FileReader","readAsDataURL","target","files","onload","result","onerror","error","children","className","onSubmit","style","maxWidth","margin","Label","Group","controlId","Control","type","placeholder","value","onChange","size","width","height","src","alt","inputPlaceholder","shouldHighlightWeekends","variant"],"sources":["C:/Users/User/Desktop/final-project/Lost-and-found---Final-project/client/src/Components/ProtectedComponents/ILostAPet.js"],"sourcesContent":["import React from \"react\";\r\nimport axios from \"axios\";\r\nimport { useState } from \"react\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport Button from \"react-bootstrap/Button\";\r\nimport Form from \"react-bootstrap/Form\";\r\nimport \"react-modern-calendar-datepicker/lib/DatePicker.css\";\r\nimport { Calendar } from \"react-modern-calendar-datepicker\";\r\n\r\nfunction ILostAPet() {\r\n  const [name, setName] = useState(\"\");\r\n  const [description, setDescription] = useState(\"\");\r\n  const [photo, setPhoto] = useState(\"\");\r\n  const [location, setLocation] = useState(\"\");\r\n  const [date, setDate] = useState(null);\r\n  const [time, setTime] = useState(\"\");\r\n\r\n  const navigate = useNavigate();\r\n\r\n  async function LostPetForm(e) {\r\n    e.preventDefault();\r\n    let lostPet = { name, description, photo, location, date, time };\r\n\r\n    const token = localStorage.getItem(\"token\");\r\n    await axios.post(\"http://localhost:8000/auth/lostpet\", lostPet, {\r\n      headers: {\r\n        Authorization: `Bearer ${token}`,\r\n      },\r\n    });\r\n    navigate(\"/getLostPets\");\r\n  }\r\n\r\n  function covertToBase64(e) {\r\n    console.log(e);\r\n    let reader = new FileReader();\r\n    reader.readAsDataURL(e.target.files[0]);\r\n    reader.onload = () => {\r\n      console.log(reader.result);\r\n      setPhoto(reader.result);\r\n    };\r\n    reader.onerror = (error) => {\r\n      console.log(\"error: \", error);\r\n    };\r\n  }\r\n\r\n  return (\r\n    <>\r\n    <div className=\"page-container\">\r\n      <Form\r\n        onSubmit={LostPetForm}\r\n        className=\"text-center\"\r\n        style={{ maxWidth: \"400px\", margin: \"0 auto\" }}\r\n      >\r\n        <Form.Label><h3>Declare your lost pet</h3></Form.Label>\r\n        <Form.Group className=\"mb-3\" controlId=\"formBasicName\">\r\n          <Form.Label>Pets Name</Form.Label>\r\n          <Form.Control\r\n            type=\"text\"\r\n            placeholder=\"Pets name\"\r\n            value={name}\r\n            onChange={(e) => setName(e.target.value)}\r\n          />\r\n        </Form.Group>\r\n        <Form.Group className=\"mb-3\" controlId=\"formBasicDescription\">\r\n          <Form.Label>Pets description</Form.Label>\r\n          <Form.Control\r\n            type=\"textarea\"\r\n            placeholder=\"Describe the pet\"\r\n            value={description}\r\n            onChange={(e) => setDescription(e.target.value)}\r\n          />\r\n        </Form.Group>\r\n        <Form.Group controlId=\"formFileSm\" className=\"mb-3\">\r\n          <Form.Label>Upload a photo of your pet</Form.Label>\r\n          <Form.Control type=\"file\" size=\"sm\" onChange={covertToBase64} />\r\n          {photo === \"\" || photo === null ? (\r\n            \"\"\r\n          ) : (\r\n            <img width={100} height={100} src={photo} alt=\"pet\" />\r\n          )}\r\n        </Form.Group>\r\n        <Form.Group className=\"mb-3\" controlId=\"formBasicLocation\">\r\n          <Form.Label>Location</Form.Label>\r\n          <Form.Control\r\n            type=\"text\"\r\n            placeholder=\"Where did you lost your pet?\"\r\n            value={location}\r\n            onChange={(e) => setLocation(e.target.value)}\r\n          />\r\n        </Form.Group>\r\n        <Calendar\r\n          value={date}\r\n          onChange={setDate}\r\n          inputPlaceholder=\"Select a day\"\r\n          shouldHighlightWeekends\r\n        />\r\n        <Form.Group className=\"mb-3\" controlId=\"formBasicTime\">\r\n          <Form.Label>Time</Form.Label>\r\n          <Form.Control\r\n            type=\"number\"\r\n            placeholder=\"When did you lost your pet?\"\r\n            value={time}\r\n            onChange={(e) => setTime(e.target.value)}\r\n          />\r\n        </Form.Group>\r\n        <Button variant=\"primary\" type=\"submit\">\r\n          Upload\r\n        </Button>\r\n      </Form>\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default ILostAPet;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}